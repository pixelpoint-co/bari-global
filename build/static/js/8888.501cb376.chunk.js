"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8888],{36226:(e,t,s)=>{s.d(t,{A:()=>h});var a=s(54462),r=s(65043),n=s(46705),l=s(76965),c=s(81895),i=s(61966),o=s(35475),d=s(70579);const x=c.i$,m=e=>{let{rino:t,tname:s,tprice:a,tdate:r,tno:n,tqty:l,tfiles:c,changeReservation:m,email:g,availableCapacity:h}=e;console.log("\uc5ec\uae30\ub294 Reservation Items");const v=e=>{m({email:g,rino:t,tno:n,tdate:r,tqty:l+e,availableCapacity:h})};return(0,d.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-5 mb-5 transition duration-300 hover:shadow-xl",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("div",{className:"text-gray-900 text-lg font-semibold",children:s}),(0,d.jsx)("button",{className:"flex items-center space-x-2 px-2 py-1 bg-red-100 text-red-500 rounded-md hover:bg-red-200 transition-all duration-200",onClick:()=>v(-1*l),children:(0,d.jsx)(i.A,{className:"text-lg"})})]}),(0,d.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,d.jsx)(o.N_,{to:`/user/tours/read/${n}?page=1&size=10`,className:"overflow-hidden rounded-md shadow-sm flex-1",children:(0,d.jsx)("img",{className:"w-full h-20 object-cover rounded-md",src:`${x}/api/tours/view/s_${c}`,alt:s})}),(0,d.jsxs)("div",{className:"flex flex-col justify-center flex-1",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600 font-semibold mb-1",children:"\ud83d\udcc5 Date"}),(0,d.jsx)("span",{className:"text-gray-900 text-md font-bold bg-gray-100 p-2 rounded-md text-center",children:r})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-gray-700 font-medium mb-1",children:"How Many Participants?"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Add your participants below and get ready for an unforgettable experience!"}),(0,d.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-300 rounded-md p-2 mb-4",children:[(0,d.jsx)("span",{className:"text-gray-700 text-sm font-semibold",children:"Adult"}),(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("button",{onClick:()=>v(-1),className:"w-8 h-8 px-3 py-1 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 transition duration-200",children:"-"}),(0,d.jsx)("span",{className:"text-gray-800 font-semibold",children:l}),(0,d.jsx)("button",{onClick:()=>v(1),disabled:l>=h,className:"px-3 py-1 rounded-md "+(l>=h?"bg-gray-300 text-gray-400":"text-gray-700 bg-gray-200 hover:bg-gray-300"),children:"+"})]})]})]}),(0,d.jsx)("div",{className:"flex justify-end p-2 border-t border-gray-200 mt-4",children:(0,d.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["\u20a9",l*a]})})]},t)};var g=s(73216);const h=()=>{const{isLogin:e,loginState:t}=(0,a.A)(),{refreshReservation:s,reservationItems:c,changeReservation:i}=(0,n.A)(),o=(0,g.Zp)(),x=(0,r.useMemo)((()=>{let e=0;if(0===c.length)return e;for(const t of c)e+=t.tprice*t.tqty;return e}),[c]);(0,r.useEffect)((()=>{e&&s(),console.log(c)}),[e]);return(0,d.jsx)("div",{className:"flex flex-col items-center w-full px-4",children:e?(0,d.jsxs)("div",{className:"w-full max-w-lg bg-white p-6 rounded-lg shadow-lg",children:[(0,d.jsxs)("div",{className:"mb-6 border-b pb-4 flex items-center space-x-2",children:[(0,d.jsx)(l.A,{className:"text-gray-500 text-2xl"}),(0,d.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Reservation Options"})]}),(0,d.jsx)("div",{className:"mb-6 space-y-4",children:c.length>0?c.map((e=>(0,r.createElement)(m,{email:t.email,...e,key:e.rino,changeReservation:i}))):(0,d.jsx)("p",{className:"text-center text-gray-500",children:"Your reservation is empty."})}),(0,d.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[x&&(0,d.jsxs)("p",{className:"text-lg sm:text-xl font-bold text-gray-800",children:["Total: \u20a9",x.toLocaleString()]}),(0,d.jsxs)("p",{className:"text-gray-500",children:[c.length," items"]})]}),(0,d.jsx)("div",{className:"text-center mt-6",children:(0,d.jsx)("button",{className:"text-white font-semibold py-2 px-6 rounded-lg bg-stone-400 hover:bg-stone-600 transition duration-300 shadow-md w-full sm:w-auto",onClick:()=>{console.log(c.length),0!==c.length?o("/user/tours/book"):alert("The reservation is empty. Please select at least one tour.")},children:"Book now"})})]}):(0,d.jsx)("p",{className:"text-center text-gray-500 mt-6",children:"Please log in to see your reservation."})})}},46705:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(83003),r=s(97765);const n=()=>{const e=(0,a.d4)((e=>e.reservationSlice)),t=(0,a.wA)();return{reservationItems:e,refreshReservation:()=>{console.log("useCustomReservation: refresh"),t((0,r.l5)())},changeReservation:e=>{t((0,r.TJ)(e))}}}},4533:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var a=s(65043),r=s(87728),n=s(44713),l=s(36226),c=s(70579);const i=()=>{const[e,t]=(0,a.useState)("cart"),[s,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{window.scrollTo(0,0);const e=()=>{i(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,c.jsx)(r.A,{children:(0,c.jsxs)("div",{className:"bg-gray-100 pt-10 pb-10",children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-gray-800 text-center mt-16 mb-10",children:"My Cart"}),s&&(0,c.jsx)("div",{className:"mb-6 px-4",children:(0,c.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,c.jsx)("button",{className:"px-4 py-2 rounded-md transition "+("cart"===e?"bg-gray-500 text-white":"bg-gray-300 text-gray-700"),onClick:()=>t("cart"),children:"Cart"}),(0,c.jsx)("button",{className:"px-4 py-2 rounded-md transition "+("reservation"===e?"bg-gray-500 text-white":"bg-gray-300 text-gray-700"),onClick:()=>t("reservation"),children:"Reservation"})]})}),(0,c.jsxs)("div",{className:(s?"grid grid-cols-1 gap-6":"flex justify-center items-start space-x-4")+" px-4 sm:px-10 lg:px-20",children:[("cart"===e||!s)&&(0,c.jsx)("div",{className:s?"":"w-1/2 max-w-md",children:(0,c.jsx)(n.A,{})}),("reservation"===e||!s)&&(0,c.jsx)("div",{className:s?"":"w-1/2 max-w-md",children:(0,c.jsx)(l.A,{})})]})]})})}},76965:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(58168),r=s(65043);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 264c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48zm-8 136H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM480 544H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 308H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm356.8-74.4c29-26.3 47.2-64.3 47.2-106.6 0-79.5-64.5-144-144-144s-144 64.5-144 144c0 42.3 18.2 80.3 47.2 106.6-57 32.5-96.2 92.7-99.2 162.1-.2 4.5 3.5 8.3 8 8.3h48.1c4.2 0 7.7-3.3 8-7.6C564 871.2 621.7 816 692 816s128 55.2 131.9 124.4c.2 4.2 3.7 7.6 8 7.6H880c4.6 0 8.2-3.8 8-8.3-2.9-69.5-42.2-129.6-99.2-162.1zM692 591c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80z"}}]},name:"solution",theme:"outlined"};var l=s(22172),c=function(e,t){return r.createElement(l.A,(0,a.A)({},e,{ref:t,icon:n}))};const i=r.forwardRef(c)}}]);
//# sourceMappingURL=8888.501cb376.chunk.js.map