/*! For license information please see 5157.4d4a1cdf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5157],{98478:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(65043),l=s(83003),c=s(41090),r=s(54462);const n=()=>{const{loginState:e}=(0,r.A)(),t=e.email,s=(0,l.d4)((e=>e.fav.items||[])),n=(0,l.wA)(),i=(0,a.useCallback)((()=>{n((0,c.U$)(t))}),[n]),o=(0,a.useCallback)((async e=>{s.some((t=>t.pno===e.pno))?alert("This product is already in your favorites!"):(await n((0,c.Q1)(e)),i())}),[n,s,i]),d=(0,a.useCallback)((async e=>{await n((0,c.Yf)(e)),i()}),[n,i]),x=(0,a.useCallback)((e=>{n((0,c.Yp)(e)).then((()=>i()))}),[n,i]);return{favItems:s,refreshFav:i,changeFav:o,deleteFav:d,deleteBulkFav:x}}},51776:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(65043),l=s(83003),c=s(37874),r=s(54462);const n=()=>{const{loginState:e}=(0,r.A)(),t=e.email,s=(0,l.d4)((e=>e.favTour.items||[])),n=(0,l.wA)(),i=(0,a.useCallback)((()=>{n((0,c.ut)(t))}),[n,t]),o=(0,a.useCallback)((async e=>{s.some((t=>t.tno===e.tno))?alert("This tour is already in your favorites!"):(await n((0,c.m7)(e)),i())}),[n,s,i]),d=(0,a.useCallback)((async e=>{await n((0,c.oE)(e)),i()}),[n,i]),x=(0,a.useCallback)((e=>{n((0,c.g4)(e)).then((()=>i()))}),[n,i]);return{favItems:s,refreshFav:i,changeFav:o,deleteFav:d,deleteBulkFav:x}}},88740:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var a=s(65043),l=s(87728),c=s(54462),r=s(98478),n=s(81895),i=s(61966),o=s(35475),d=s(70579);const x=n.i$,m=e=>{let{pno:t,fino:s,pname:a,pprice:l,uploadFileNames:c,handleDelete:r,handleSelect:n,selected:m}=e;return console.log("pfiles:",c),(0,d.jsxs)("div",{className:"relative flex flex-row items-center p-4 bg-white shadow-md rounded-lg mb-4 space-x-4",children:[(0,d.jsx)("button",{className:"absolute top-0 right-2 text-red-500 hover:text-red-700 transition-all duration-200",onClick:()=>r(s),children:(0,d.jsx)(i.A,{className:"text-lg"})}),(0,d.jsx)(o.N_,{to:`/user/products/read/${t}?page=1&size=10`,className:"w-1/3",children:(0,d.jsx)("img",{className:"w-full h-24 object-cover rounded-lg shadow-md",src:`${x}/api/products/view/s_${c[0]}`,alt:a})}),(0,d.jsxs)("div",{className:"w-1/2 flex flex-col justify-between space-y-2",children:[(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("h3",{className:"text-sm md:text-lg font-semibold text-gray-900 break-words",children:a}),(0,d.jsxs)("p",{className:"text-xs md:text-sm text-gray-500",children:["\u20a9",l.toLocaleString()]})]}),(0,d.jsx)("div",{className:"flex items-center justify-end",children:(0,d.jsx)("input",{type:"checkbox",className:"form-checkbox w-4 h-4 text-blue-600",checked:m,onChange:()=>n(s)})})]})]},s)};var h=s(58168);const u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]},name:"gift",theme:"outlined"};var f=s(22172),v=function(e,t){return a.createElement(f.A,(0,h.A)({},e,{ref:t,icon:u}))};const p=a.forwardRef(v);var g=s(73216);const w=()=>{(0,g.Zp)();const{isLogin:e,loginState:t}=(0,c.A)(),{refreshFav:s,favItems:l=[],changeFav:n,deleteFav:o,deleteBulkFav:x}=(0,r.A)(),[h,u]=(0,a.useState)(l),[f,v]=(0,a.useState)(new Set);(0,a.useEffect)((()=>{u(l),console.log("Updated localFavItems to:",l)}),[l]),(0,a.useEffect)((()=>{e&&s()}),[e,s]);const w=(0,a.useCallback)((async e=>{await o(e),s()}),[o,s]),b=(0,a.useCallback)((async()=>{console.log("deleteBulkFav called with selected items:",Array.from(f));await x(Array.from(f))&&(v(new Set),s())}),[x,f,s]),j=(0,a.useCallback)((e=>{v((t=>{const s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s}))}),[]);return(0,d.jsx)("div",{className:"flex flex-col items-center w-full px-4 sm:px-6 lg:px-8",children:e?(0,d.jsxs)("div",{className:"w-full max-w-3xl bg-white p-4 sm:p-6 lg:p-8 rounded-lg shadow-xl",children:[(0,d.jsxs)("div",{className:"mb-6 border-b pb-4 flex items-center space-x-2",children:[(0,d.jsx)(p,{className:"text-2xl sm:text-3xl text-gray-700"}),(0,d.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Favorite Products"})]}),(0,d.jsx)("div",{className:"mb-6",children:h.length>0?(0,d.jsx)("ul",{className:"space-y-4",children:h.map((e=>(0,a.createElement)(m,{...e,key:e.fino,changeFav:n,email:t.email,handleDelete:w,handleSelect:j,selected:f.has(e.fino)})))}):(0,d.jsx)("p",{className:"text-center text-gray-500",children:"No favorite products yet."})}),f.size>0&&(0,d.jsxs)("button",{className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-md flex items-center space-x-2",onClick:b,children:[(0,d.jsx)(i.A,{}),(0,d.jsx)("span",{children:"Delete Selected"})]})]}):(0,d.jsx)("p",{className:"text-center text-gray-500 mt-12",children:"Please log in to see your favorite products."})})};var b=s(51776);const j=n.i$,y=e=>{let{tno:t,ftino:s,tname:a,tprice:l,uploadFileNames:c,handleDelete:r,handleSelect:n,selected:x}=e;return(0,d.jsxs)("div",{className:"relative flex flex-row items-center p-4 bg-white shadow-md rounded-lg mb-4 space-x-4",children:[(0,d.jsx)("button",{className:"absolute top-0 right-2 text-red-500 hover:text-red-700 transition-all duration-200",onClick:()=>r(s),children:(0,d.jsx)(i.A,{className:"text-lg"})}),(0,d.jsx)(o.N_,{to:`/user/tours/read/${t}?page=1&size=10`,className:"w-1/3",children:(0,d.jsx)("img",{className:"w-full h-24 object-cover rounded-lg shadow-md",src:`${j}/api/tours/view/s_${c[0]}`,alt:a})}),(0,d.jsxs)("div",{className:"w-1/2 flex flex-col justify-between space-y-2",children:[(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("h3",{className:"text-sm md:text-lg font-semibold text-gray-900 break-words",children:a}),(0,d.jsxs)("p",{className:"text-xs md:text-sm text-gray-500",children:["\u20a9",l.toLocaleString()]})]}),(0,d.jsx)("div",{className:"flex items-center justify-end",children:(0,d.jsx)("input",{type:"checkbox",className:"form-checkbox w-4 h-4 text-blue-600",checked:x,onChange:()=>n(s)})})]})]},s)};const N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"};var k=function(e,t){return a.createElement(f.A,(0,h.A)({},e,{ref:t,icon:N}))};const F=a.forwardRef(k),C=()=>{const{isLogin:e,loginState:t}=(0,c.A)(),{refreshFav:s,favItems:l=[],changeFav:r,deleteFav:n,deleteBulkFav:o}=(0,b.A)(),[x,m]=(0,a.useState)([]),[h,u]=(0,a.useState)(new Set);(0,a.useEffect)((()=>{m(l),console.log("Updated localFavItems with tour items:",l)}),[l]),(0,a.useEffect)((()=>{e&&s()}),[e,s]);const f=(0,a.useCallback)((async e=>{await n(e),s()}),[n,s]),v=(0,a.useCallback)((async()=>{console.log("deleteBulkFav called with selected items:",Array.from(h));await o(Array.from(h))&&(u(new Set),s())}),[o,h,s]),p=(0,a.useCallback)((e=>{u((t=>{const s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s}))}),[]);return(0,d.jsx)("div",{className:"flex flex-col items-center w-full px-4 sm:px-6 lg:px-8",children:e?(0,d.jsxs)("div",{className:"w-full max-w-3xl bg-white p-4 sm:p-6 lg:px-8 rounded-lg shadow-xl",children:[(0,d.jsxs)("div",{className:"mb-6 border-b pb-4 flex items-center space-x-2",children:[(0,d.jsx)(F,{className:"text-2xl sm:text-3xl text-gray-700"}),(0,d.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Favorite Tours"})]}),(0,d.jsx)("div",{className:"mb-6",children:x.length>0?(0,d.jsx)("ul",{className:"space-y-4",children:x.map((e=>(0,a.createElement)(y,{...e,key:`tour-${e.ftino}`,changeFav:r,email:t.email,handleDelete:f,handleSelect:p,selected:h.has(e.ftino)})))}):(0,d.jsx)("p",{className:"text-center text-gray-500",children:"No favorite tours yet."})}),h.size>0&&(0,d.jsxs)("button",{className:"mt-4 bg-red-500 text-white px-4 py-2 rounded-md flex items-center space-x-2",onClick:v,children:[(0,d.jsx)(i.A,{}),(0,d.jsx)("span",{children:"Delete Selected"})]})]}):(0,d.jsx)("p",{className:"text-center text-gray-500 mt-12",children:"Please log in to see your favorite tours."})})},A=()=>{const[e,t]=(0,a.useState)("products"),[s,c]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{window.scrollTo(0,0);const e=()=>{c(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,d.jsx)(l.A,{children:(0,d.jsxs)("div",{className:"bg-gray-100 pt-10 pb-10",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-800 text-center mt-16 mb-10",children:"My Favorites"}),s&&(0,d.jsx)("div",{className:"mb-6 px-4",children:(0,d.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,d.jsx)("button",{className:"px-4 py-2 rounded-md transition "+("products"===e?"bg-gray-500 text-white":"bg-gray-300 text-gray-700"),onClick:()=>t("products"),children:"Products"}),(0,d.jsx)("button",{className:"px-4 py-2 rounded-md transition "+("tours"===e?"bg-gray-500 text-white":"bg-gray-300 text-gray-700"),onClick:()=>t("tours"),children:"Tours"})]})}),(0,d.jsxs)("div",{className:(s?"grid grid-cols-1 gap-6":"flex justify-center items-start space-x-4")+" px-4 sm:px-10 lg:px-20",children:[("products"===e||!s)&&(0,d.jsx)("div",{className:s?"":"w-1/2 max-w-md",children:(0,d.jsx)(w,{})}),("tours"===e||!s)&&(0,d.jsx)("div",{className:s?"":"w-1/2 max-w-md",children:(0,d.jsx)(C,{})})]})]})})}}}]);
//# sourceMappingURL=5157.4d4a1cdf.chunk.js.map