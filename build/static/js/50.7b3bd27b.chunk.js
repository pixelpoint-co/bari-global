"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[50],{30050:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k});var s=l(65043),r=l(43845),i=l(71322),n=l(26353),o=l(81045),a=l(94496),d=l(69508),c=l(12110),x=l(26494),p=l(61596),h=l(87234),y=l(28739),m=l(68903),g=l(35721),j=l(48262),u=l(69131),f=l(59893),v=l(24994),A=l(70579);const b=e=>({marginBottom:"12px",borderRadius:"4px",cursor:"pointer",backgroundColor:e?"#e3f2fd":"white",border:"1px solid #e0e0e0","&:hover":{bgcolor:"#f5f5f5",transform:"translateY(-2px)"}}),w=e=>{let{status:t}=e;return(0,A.jsx)(r.A,{label:t,size:"small",color:(e=>{switch(e){case"\ucc98\ub9ac\uc644\ub8cc":return"success";case"\ucc98\ub9ac\uc911":return"warning";case"\ubbf8\ucc98\ub9ac":return"error";default:return"default"}})(t),variant:"outlined"})},C=e=>{let{contact:t,isSelected:l,onClick:s}=e;return(0,A.jsx)(i.Ay,{style:b(l),onClick:s,children:(0,A.jsx)(n.A,{primary:(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,A.jsx)(o.A,{style:{backgroundColor:"#1976d2"},children:t.name.charAt(0)}),(0,A.jsxs)("div",{style:{flex:1},children:[(0,A.jsx)(a.A,{style:{fontWeight:"bold"},children:t.name}),(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,A.jsx)(j.A,{style:{fontSize:"small",color:"rgba(0, 0, 0, 0.54)"}}),(0,A.jsx)(a.A,{style:{color:"rgba(0, 0, 0, 0.6)"},children:t.email})]})]}),(0,A.jsx)(d.A,{title:"\ubb38\uc758 \ub0a0\uc9dc",children:(0,A.jsx)(a.A,{style:{color:"rgba(0, 0, 0, 0.6)",fontSize:"12px"},children:new Date(t.createdAt).toLocaleDateString()})})]}),secondary:(0,A.jsxs)("div",{style:{marginTop:"8px"},children:[(0,A.jsx)(a.A,{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"14px"},children:t.inquiry}),(0,A.jsx)("div",{style:{marginTop:"10px"},children:(0,A.jsx)(w,{status:t.status})})]})})})},S=e=>{let{contact:t,replyText:l,setReplyText:s,onSaveTemp:i,onComplete:n}=e;return(0,A.jsx)(c.A,{children:(0,A.jsxs)(x.A,{children:[(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid #e0e0e0"},children:[(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,A.jsx)(o.A,{style:{backgroundColor:"#1976d2"},children:t.name.charAt(0)}),(0,A.jsxs)("div",{children:[(0,A.jsx)(a.A,{variant:"h6",children:t.name}),(0,A.jsx)(a.A,{style:{color:"rgba(0, 0, 0, 0.6)"},children:t.email})]})]}),(0,A.jsx)(r.A,{icon:(0,A.jsx)(u.A,{}),label:new Date(t.createdAt).toLocaleString(),variant:"outlined",size:"small"})]}),(0,A.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,A.jsx)(a.A,{style:{marginBottom:"8px",fontWeight:"bold"},children:"\ubb38\uc758 \ub0b4\uc6a9"}),(0,A.jsx)(p.A,{style:{padding:"16px",backgroundColor:"#f5f5f5"},variant:"outlined",children:(0,A.jsx)(a.A,{children:t.inquiry})})]}),(0,A.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,A.jsx)(a.A,{style:{marginBottom:"8px",fontWeight:"bold"},children:"\ucc98\ub9ac \uc0c1\ud0dc"}),(0,A.jsxs)("div",{style:{display:"flex",gap:"16px",marginBottom:"16px"},children:[(0,A.jsx)(w,{status:t.status}),(0,A.jsxs)(a.A,{style:{color:"rgba(0, 0, 0, 0.6)"},children:["\uc811\uc218\uc77c\uc2dc: ",new Date(t.createdAt).toLocaleString()]})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(a.A,{style:{marginBottom:"16px",fontWeight:"bold"},children:"\ub2f5\ubcc0 \ub0b4\uc6a9"}),(0,A.jsx)(p.A,{style:{padding:"16px"},variant:"outlined",children:(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,A.jsx)("textarea",{value:l,onChange:e=>s(e.target.value),placeholder:"\ub2f5\ubcc0\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",style:{width:"100%",minHeight:"130px",padding:"8px",border:"1px solid #e0e0e0",borderRadius:"4px",resize:"vertical"}}),(0,A.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,A.jsx)(r.A,{label:"\uc784\uc2dc\uc800\uc7a5",variant:"outlined",style:{cursor:"pointer"},onClick:i}),(0,A.jsx)(r.A,{label:"\ub2f5\ubcc0\uc644\ub8cc",color:"primary",style:{cursor:"pointer"},onClick:n})]})]})})]})]})})},B=()=>{const[e,t]=(0,s.useState)(null),[l,i]=(0,s.useState)(""),[n,o]=(0,s.useState)([]);(0,s.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=await(0,v.vS)();o(e)}catch(e){console.error("\ubb38\uc758 \ubaa9\ub85d \ub85c\ub529 \uc2e4\ud328:",e),alert("\ubb38\uc758 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}};return(0,A.jsxs)(h.A,{maxWidth:"xl",style:{paddingTop:"32px",paddingBottom:"32px"},children:[(0,A.jsxs)("div",{style:{marginBottom:"32px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,A.jsx)(a.A,{variant:"h4",style:{fontWeight:"bold"},children:"\uace0\uac1d \ubb38\uc758 \uad00\ub9ac"}),(0,A.jsx)(y.A,{badgeContent:n.filter((e=>"\ubbf8\ucc98\ub9ac"===e.status)).length,color:"primary",children:(0,A.jsx)(r.A,{label:"\uc804\uccb4 \ubb38\uc758",color:"primary",variant:"outlined"})})]}),(0,A.jsxs)(m.Ay,{container:!0,spacing:3,children:[(0,A.jsx)(m.Ay,{item:!0,xs:12,md:5,children:(0,A.jsxs)(p.A,{style:{padding:"16px",height:"80vh",overflow:"auto"},children:[(0,A.jsx)(a.A,{variant:"h6",style:{marginBottom:"16px",fontWeight:"bold"},children:"\ubb38\uc758 \ubaa9\ub85d"}),(0,A.jsx)(g.A,{children:n.map((l=>(0,A.jsx)(C,{contact:l,isSelected:(null===e||void 0===e?void 0:e.id)===l.id,onClick:()=>(e=>{t(e),i(e.tempReply||e.reply||"")})(l)},l.id)))})]})}),(0,A.jsx)(m.Ay,{item:!0,xs:12,md:7,children:(0,A.jsxs)(p.A,{style:{padding:"24px",height:"80vh",overflow:"auto"},children:[(0,A.jsx)(a.A,{variant:"h6",style:{marginBottom:"16px",fontWeight:"bold"},children:"\ubb38\uc758 \uc0c1\uc138 \ub0b4\uc6a9"}),e?(0,A.jsx)(S,{contact:e,replyText:l,setReplyText:i,onSaveTemp:async()=>{if(e&&l.trim())try{console.log("Saving temp reply:",l);const s=await(0,v.mh)(e.id,l.trim());if(console.log("Save temp response:",s),s){const l={...s,status:"\ucc98\ub9ac\uc911"};t(l),o((t=>t.map((t=>t.id===e.id?l:t)))),alert("\uc784\uc2dc\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}}catch(s){console.error("\uc784\uc2dc\uc800\uc7a5 \uc2e4\ud328:",s),alert("\uc784\uc2dc\uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}else alert("\ub2f5\ubcc0 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")},onComplete:async()=>{if(e&&l.trim())try{const s=await(0,v.i0)(e.id,l.trim());if(console.log("Update reply response:",s),s){const r={...s,reply:l,status:"\ucc98\ub9ac\uc644\ub8cc",tempReply:""};t(r),o((t=>t.map((t=>t.id===e.id?r:t)))),alert("\ub2f5\ubcc0\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}}catch(s){console.error("\ub2f5\ubcc0 \ub4f1\ub85d \uc2e4\ud328:",s),alert("\ub2f5\ubcc0 \ub4f1\ub85d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}else alert("\ub2f5\ubcc0 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")}}):(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"calc(100% - 60px)",backgroundColor:"#f5f5f5",borderRadius:"4px"},children:[(0,A.jsx)(f.A,{style:{fontSize:"40px",color:"rgba(0, 0, 0, 0.54)",marginBottom:"8px"}}),(0,A.jsx)(a.A,{style:{color:"rgba(0, 0, 0, 0.54)"},children:"\ubb38\uc758\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"})]})]})})]})]})},k=()=>(0,A.jsx)("div",{className:"w-full",children:(0,A.jsx)(B,{})})}}]);
//# sourceMappingURL=50.7b3bd27b.chunk.js.map