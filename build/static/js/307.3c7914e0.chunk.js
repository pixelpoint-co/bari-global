"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[307],{94450:(e,t,r)=>{r.d(t,{A:()=>o});r(65043);var s=r(70579);const o=e=>{let{children:t,variant:r="default",size:o="default",className:a="",...n}=e;const l={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[r],i={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[o];return(0,s.jsx)("button",{className:`inline-flex items-center justify-center rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${l} ${i} ${a}`,...n,children:t})}},65104:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(65043),o=r(1089),a=r(70579);const n=s.forwardRef(((e,t)=>{let{className:r,type:s="text",...n}=e;return(0,a.jsx)("input",{type:s,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})}));n.displayName="Input";const l=n},51776:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(65043),o=r(83003),a=r(37874),n=r(54462);const l=()=>{const{loginState:e}=(0,n.A)(),t=e.email,r=(0,o.d4)((e=>e.favTour.items||[])),l=(0,o.wA)(),i=(0,s.useCallback)((()=>{l((0,a.ut)(t))}),[l,t]),c=(0,s.useCallback)((async e=>{r.some((t=>t.tno===e.tno))?alert("This tour is already in your favorites!"):(await l((0,a.m7)(e)),i())}),[l,r,i]),d=(0,s.useCallback)((async e=>{await l((0,a.oE)(e)),i()}),[l,i]),u=(0,s.useCallback)((e=>{l((0,a.g4)(e)).then((()=>i()))}),[l,i]);return{favItems:r,refreshFav:i,changeFav:c,deleteFav:d,deleteBulkFav:u}}},1089:(e,t,r)=>{r.d(t,{cn:()=>a});var s=r(58387),o=r(89359);function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,s.$)(t))}},4438:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var s=r(65043),o=r(83910),a=r(97929),n=r(55670),l=(r(5138),r(81895)),i=r(60561),c=r(54462),d=r(94450),u=r(96117),g=r(65104),x=r(39292),h=r(14918),f=r(51776),m=r(70579);const v=l.i$,p={dtoList:[],pageNumList:[],pageRequestDTO:null,prev:!1,next:!1,totalCount:0,prevPage:0,nextPage:0,totalPage:0,current:0},b=()=>{const{exceptionHandle:e}=(0,c.A)(),{page:t,size:r,refresh:o,moveToList:a,moveToTourRead:l}=(0,n.A)(),[b,y]=(0,s.useState)(p),[j,w]=(0,s.useState)(!1),{isLogin:N,loginState:A}=(0,c.A)(),k=A.email,{favItems:C,changeFav:S,deleteFav:T,refreshFav:L}=(0,f.A)(k),[E,R]=(0,s.useState)(""),[F,I]=(0,s.useState)("t"),[P,$]=(0,s.useState)([]),[z,D]=(0,s.useState)("");(0,s.useEffect)((()=>{N&&k&&L()}),[N,k,L]),(0,s.useEffect)((()=>{(0,u.ft)().then((e=>{e&&Array.isArray(e)?$(e):(console.log("No categories found"),$([]))})).catch((t=>{e(t),$([])}))}),[]);return(0,s.useEffect)((()=>{w(!0),(0,u.vS)({page:t,size:r,keyword:E,type:F,category:z}).then((e=>{y(e&&Array.isArray(e.dtoList)?e:p),w(!1)})).catch((t=>{e(t),w(!1)}))}),[t,r,o,E,F,C,z]),(0,m.jsxs)("div",{className:"py-20",children:[(0,m.jsxs)("section",{className:"max-w-5xl mx-auto",children:[(0,m.jsx)("h2",{className:"mb-10 text-2xl font-bold uppercase text-center text-gray-700 tracking-wide",children:"Explore Curated Tours"}),(0,m.jsxs)("div",{className:"mt-8 flex justify-center items-center space-x-4",children:[(0,m.jsxs)("select",{className:"bg-white border border-gray-300 rounded-lg p-3 text-sm",value:z,onChange:e=>{D(e.target.value)},children:[(0,m.jsx)("option",{value:"",children:"All Categories"}),P.map(((e,t)=>(0,m.jsx)("option",{value:e,children:e},t)))]}),(0,m.jsxs)("div",{className:"flex w-full max-w-xl bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200",children:[(0,m.jsx)(g.A,{placeholder:"Search experiences...",className:"flex-grow border-0 focus:ring-0 text-lg py-6 px-6",value:E,onChange:e=>{console.log("Keyword updated:",e.target.value),R(e.target.value)}}),(0,m.jsx)(d.A,{className:"hidden sm:flex bg-orange-800 hover:bg-orange-700 text-white font-medium tracking-wide py-6 ",onClick:()=>{w(!0),(0,u.vS)({page:1,size:r,keyword:E,type:F,category:z}).then((e=>{y(e&&Array.isArray(e.dtoList)?e:p),w(!1)})).catch((t=>{e(t),w(!1)}))},children:(0,m.jsx)(x.A,{className:"h-5 w-5"})})]})]}),(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 mt-10",children:b.dtoList&&b.dtoList.length>0?b.dtoList.map((e=>{const t=C.some((t=>t.tno===e.tno));return(0,m.jsxs)("div",{className:"flex flex-col items-center text-center",onClick:()=>l(e.tno),children:[(0,m.jsxs)("div",{className:"relative w-full max-w-xs h-52 overflow-hidden",children:[(0,m.jsx)("img",{src:`${v}/api/tours/view/${e.uploadFileNames[0]}`,alt:e.tname,className:"w-full h-full object-cover opacity-80 hover:opacity-90"}),(0,m.jsx)("button",{className:"absolute top-2 right-2 "+(t?"text-red-500":"text-white"),onClick:t=>{t.stopPropagation(),(async e=>{if(!A.email)return void window.alert("Please log in to manage favorites.");if(C.some((t=>t.tno===e.tno))){const t=C.find((t=>t.tno===e.tno));await T(t.ftino)}else await S({email:A.email,tno:e.tno})})(e)},children:(0,m.jsx)(h.A,{className:"h-6 w-6 "+(t?"fill-current":"")})})]}),(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsx)("p",{className:"text-xs text-gray-500",children:e.categoryName}),(0,m.jsx)("h3",{className:"text-md font-bold text-gray-600",children:e.tname}),(0,m.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["\u20a9",e.tprice]})]})]},e.tno)})):(0,m.jsx)("p",{className:"text-center text-gray-500",children:"No tours available."})})]}),(0,m.jsx)(i.A,{serverData:b,movePage:a})]})};var y=r(48959),j=r(1523),w=r(77747),N=r(31468);const A=()=>{const e=(0,s.useRef)(null),t=(0,s.useRef)(null),r=(0,s.useRef)(null),n=(0,s.useRef)(null),l=(0,s.useRef)(null),[i,c]=(0,s.useState)(!1),d=()=>{e.current&&e.current.scrollIntoView({behavior:"smooth"})},u=()=>{t.current&&t.current.scrollIntoView({behavior:"smooth"})},g=()=>{r.current&&r.current.scrollIntoView({behavior:"smooth"})};return(0,s.useEffect)((()=>{const e=()=>{if(l.current){const e=l.current.getBoundingClientRect().bottom;c(e<=0)}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),(0,m.jsxs)("div",{className:"relative p-4 w-full",style:{backgroundColor:"#E0DCD0"},children:[(0,m.jsx)("div",{ref:l,children:(0,m.jsx)(y.A,{onScrollToAbout:d,onScrollToTourMap:u,onScrollToTourList:g})}),(0,m.jsx)("div",{ref:t,children:(0,m.jsx)(j.A,{})}),(0,m.jsx)("div",{ref:n,children:(0,m.jsx)(w.A,{})}),(0,m.jsx)("div",{ref:e,children:(0,m.jsx)(N.A,{})}),(0,m.jsx)("div",{ref:r,children:(0,m.jsx)(b,{})}),i&&(0,m.jsx)("nav",{className:"fixed top-1/2 right-4 transform -translate-y-1/2 z-50 p-4",children:(0,m.jsxs)("ul",{className:"space-y-4",children:[(0,m.jsx)("li",{children:(0,m.jsx)("button",{onClick:u,title:"Map",className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:(0,m.jsx)(o.g,{icon:a.I9X})})}),(0,m.jsx)("li",{children:(0,m.jsx)("button",{onClick:()=>{n.current&&n.current.scrollIntoView({behavior:"smooth"})},title:"Popular Tour",className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:(0,m.jsx)(o.g,{icon:a.kNw})})}),(0,m.jsx)("li",{children:(0,m.jsx)("button",{onClick:d,title:"About Our Tour",className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:(0,m.jsx)(o.g,{icon:a.mEO})})}),(0,m.jsx)("li",{children:(0,m.jsx)("button",{onClick:g,title:"Search Tour",className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:(0,m.jsx)(o.g,{icon:a.$UM})})})]})})]})}}}]);
//# sourceMappingURL=307.3c7914e0.chunk.js.map